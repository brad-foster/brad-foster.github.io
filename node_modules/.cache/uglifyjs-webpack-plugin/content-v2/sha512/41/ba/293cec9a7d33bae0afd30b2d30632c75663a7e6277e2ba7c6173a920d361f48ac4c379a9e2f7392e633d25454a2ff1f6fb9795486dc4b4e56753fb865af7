{"code":"!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=2)}([function(t,e,i){(function(n){var r,s;!function(o){var a=\"object\"==typeof self&&self.self===self&&self||\"object\"==typeof n&&n.global===n&&n;r=[i(1),i(4),e],void 0===(s=function(t,e,i){a.Backbone=function(t,e,i,n){var r=t.Backbone,s=Array.prototype.slice;e.VERSION=\"1.3.3\",e.$=n,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var o=function(t,e,n){i.each(e,function(e,r){i[r]&&(t.prototype[r]=function(t,e,n){switch(t){case 1:return function(){return i[e](this[n])};case 2:return function(t){return i[e](this[n],t)};case 3:return function(t,r){return i[e](this[n],a(t,this),r)};case 4:return function(t,r,s){return i[e](this[n],a(t,this),r,s)};default:return function(){var t=s.call(arguments);return t.unshift(this[n]),i[e].apply(i,t)}}}(e,r,n))})},a=function(t,e){return i.isFunction(t)?t:i.isObject(t)&&!e._isModel(t)?h(t):i.isString(t)?function(e){return e.get(t)}:t},h=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}},u=e.Events={},c=/\\s+/,l=function(t,e,n,r,s){var o,a=0;if(n&&\"object\"==typeof n){void 0!==r&&\"context\"in s&&void 0===s.context&&(s.context=r);for(o=i.keys(n);a<o.length;a++)e=l(t,e,o[a],n[o[a]],s)}else if(n&&c.test(n))for(o=n.split(c);a<o.length;a++)e=t(e,o[a],r,s);else e=t(e,n,r,s);return e};u.on=function(t,e,i){return d(this,t,e,i)};var d=function(t,e,i,n,r){if(t._events=l(f,t._events||{},e,i,{context:n,ctx:t,listening:r}),r){var s=t._listeners||(t._listeners={});s[r.id]=r}return t};u.listenTo=function(t,e,n){if(!t)return this;var r=t._listenId||(t._listenId=i.uniqueId(\"l\")),s=this._listeningTo||(this._listeningTo={}),o=s[r];if(!o){var a=this._listenId||(this._listenId=i.uniqueId(\"l\"));o=s[r]={obj:t,objId:r,id:a,listeningTo:s,count:0}}return d(t,e,n,this,o),this};var f=function(t,e,i,n){if(i){var r=t[e]||(t[e]=[]),s=n.context,o=n.ctx,a=n.listening;a&&a.count++,r.push({callback:i,context:s,ctx:s||o,listening:a})}return t};u.off=function(t,e,i){return this._events?(this._events=l(g,this._events,t,e,{context:i,listeners:this._listeners}),this):this},u.stopListening=function(t,e,n){var r=this._listeningTo;if(!r)return this;for(var s=t?[t._listenId]:i.keys(r),o=0;o<s.length;o++){var a=r[s[o]];if(!a)break;a.obj.off(e,n,this)}return this};var g=function(t,e,n,r){if(t){var s,o=0,a=r.context,h=r.listeners;if(e||n||a){for(var u=e?[e]:i.keys(t);o<u.length;o++){e=u[o];var c=t[e];if(!c)break;for(var l=[],d=0;d<c.length;d++){var f=c[d];n&&n!==f.callback&&n!==f.callback._callback||a&&a!==f.context?l.push(f):(s=f.listening)&&0==--s.count&&(delete h[s.id],delete s.listeningTo[s.objId])}l.length?t[e]=l:delete t[e]}return t}for(var g=i.keys(h);o<g.length;o++)s=h[g[o]],delete h[s.id],delete s.listeningTo[s.objId]}};u.once=function(t,e,n){var r=l(p,{},t,e,i.bind(this.off,this));return\"string\"==typeof t&&null==n&&(e=void 0),this.on(r,e,n)},u.listenToOnce=function(t,e,n){var r=l(p,{},e,n,i.bind(this.stopListening,this,t));return this.listenTo(t,r)};var p=function(t,e,n,r){if(n){var s=t[e]=i.once(function(){r(e,s),n.apply(this,arguments)});s._callback=n}return t};u.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),n=0;n<e;n++)i[n]=arguments[n+1];return l(v,this._events,t,void 0,i),this};var v=function(t,e,i,n){if(t){var r=t[e],s=t.all;r&&s&&(s=s.slice()),r&&m(r,n),s&&m(s,[e].concat(n))}return t},m=function(t,e){var i,n=-1,r=t.length,s=e[0],o=e[1],a=e[2];switch(e.length){case 0:for(;++n<r;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<r;)(i=t[n]).callback.call(i.ctx,s);return;case 2:for(;++n<r;)(i=t[n]).callback.call(i.ctx,s,o);return;case 3:for(;++n<r;)(i=t[n]).callback.call(i.ctx,s,o,a);return;default:for(;++n<r;)(i=t[n]).callback.apply(i.ctx,e);return}};u.bind=u.on,u.unbind=u.off,i.extend(e,u);var _=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{});var r=i.result(this,\"defaults\");n=i.defaults(i.extend({},r,n),r),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(_.prototype,u,{changed:null,validationError:null,idAttribute:\"id\",cidPrefix:\"c\",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(null==t)return this;var r;if(\"object\"==typeof t?(r=t,n=e):(r={})[t]=e,n||(n={}),!this._validate(r,n))return!1;var s=n.unset,o=n.silent,a=[],h=this._changing;this._changing=!0,h||(this._previousAttributes=i.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,l=this._previousAttributes;for(var d in r)e=r[d],i.isEqual(u[d],e)||a.push(d),i.isEqual(l[d],e)?delete c[d]:c[d]=e,s?delete u[d]:u[d]=e;if(this.idAttribute in r&&(this.id=this.get(this.idAttribute)),!o){a.length&&(this._pending=n);for(var f=0;f<a.length;f++)this.trigger(\"change:\"+a[f],this,u[a[f]],n)}if(h)return this;if(!o)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger(\"change\",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,n={};for(var r in t){var s=t[r];i.isEqual(e[r],s)||(n[r]=s)}return!!i.size(n)&&n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){var e=this,n=(t=i.extend({parse:!0},t)).success;return t.success=function(i){var r=t.parse?e.parse(i,t):i;if(!e.set(r,t))return!1;n&&n.call(t.context,e,i,t),e.trigger(\"sync\",e,i,t)},H(this,t),this.sync(\"read\",this,t)},save:function(t,e,n){var r;null==t||\"object\"==typeof t?(r=t,n=e):(r={})[t]=e;var s=(n=i.extend({validate:!0,parse:!0},n)).wait;if(r&&!s){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;var o=this,a=n.success,h=this.attributes;n.success=function(t){o.attributes=h;var e=n.parse?o.parse(t,n):t;if(s&&(e=i.extend({},r,e)),e&&!o.set(e,n))return!1;a&&a.call(n.context,o,t,n),o.trigger(\"sync\",o,t,n)},H(this,n),r&&s&&(this.attributes=i.extend({},h,r));var u=this.isNew()?\"create\":n.patch?\"patch\":\"update\";\"patch\"!==u||n.attrs||(n.attrs=r);var c=this.sync(u,this,n);return this.attributes=h,c},destroy:function(t){var e=this,n=(t=t?i.clone(t):{}).success,r=t.wait,s=function(){e.stopListening(),e.trigger(\"destroy\",e,e.collection,t)};t.success=function(i){r&&s(),n&&n.call(t.context,e,i,t),e.isNew()||e.trigger(\"sync\",e,i,t)};var o=!1;return this.isNew()?i.defer(t.success):(H(this,t),o=this.sync(\"delete\",this,t)),r||s(),o},url:function(){var t=i.result(this,\"urlRoot\")||i.result(this.collection,\"url\")||z();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\\/]$/,\"$&/\")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger(\"invalid\",this,n,i.extend(e,{validationError:n})),!1)}}),o(_,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},\"attributes\");var y=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},w={add:!0,remove:!0,merge:!0},b={add:!0,remove:!1},x=function(t,e,i){i=Math.min(Math.max(i,0),t.length);var n,r=Array(t.length-i),s=e.length;for(n=0;n<r.length;n++)r[n]=t[n+i];for(n=0;n<s;n++)t[n+i]=e[n];for(n=0;n<r.length;n++)t[n+s+i]=r[n]};i.extend(y.prototype,u,{model:_,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,b))},remove:function(t,e){e=i.extend({},e);var n=!i.isArray(t);t=n?[t]:t.slice();var r=this._removeModels(t,e);return!e.silent&&r.length&&(e.changes={added:[],merged:[],removed:r},this.trigger(\"update\",this,e)),n?r[0]:r},set:function(t,e){if(null!=t){(e=i.extend({},w,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var n=!i.isArray(t);t=n?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var s,o,a=[],h=[],u=[],c=[],l={},d=e.add,f=e.merge,g=e.remove,p=!1,v=this.comparator&&null==r&&!1!==e.sort,m=i.isString(this.comparator)?this.comparator:null;for(o=0;o<t.length;o++){s=t[o];var _=this.get(s);if(_){if(f&&s!==_){var y=this._isModel(s)?s.attributes:s;e.parse&&(y=_.parse(y,e)),_.set(y,e),u.push(_),v&&!p&&(p=_.hasChanged(m))}l[_.cid]||(l[_.cid]=!0,a.push(_)),t[o]=_}else d&&(s=t[o]=this._prepareModel(s,e))&&(h.push(s),this._addReference(s,e),l[s.cid]=!0,a.push(s))}if(g){for(o=0;o<this.length;o++)s=this.models[o],l[s.cid]||c.push(s);c.length&&this._removeModels(c,e)}var b=!1,E=!v&&d&&g;if(a.length&&E?(b=this.length!==a.length||i.some(this.models,function(t,e){return t!==a[e]}),this.models.length=0,x(this.models,a,0),this.length=this.models.length):h.length&&(v&&(p=!0),x(this.models,h,null==r?this.length:r),this.length=this.models.length),p&&this.sort({silent:!0}),!e.silent){for(o=0;o<h.length;o++)null!=r&&(e.index=r+o),(s=h[o]).trigger(\"add\",s,this,e);(p||b)&&this.trigger(\"sort\",this,e),(h.length||c.length||u.length)&&(e.changes={added:h,removed:c,merged:u},this.trigger(\"update\",this,e))}return n?t[0]:t}},reset:function(t,e){e=e?i.clone(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger(\"reset\",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?\"find\":\"filter\"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error(\"Cannot sort a set without a comparator\");t||(t={});var n=e.length;return i.isFunction(e)&&(e=i.bind(e,this)),1===n||i.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger(\"sort\",this,t),this},pluck:function(t){return this.map(t+\"\")},fetch:function(t){var e=(t=i.extend({parse:!0},t)).success,n=this;return t.success=function(i){var r=t.reset?\"reset\":\"set\";n[r](i,t),e&&e.call(t.context,n,i,t),n.trigger(\"sync\",n,i,t)},H(this,t),this.sync(\"read\",this,t)},create:function(t,e){var n=(e=e?i.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;n||this.add(t,e);var r=this,s=e.success;return e.success=function(t,e,i){n&&r.add(t,i),s&&s.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||\"id\"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?i.clone(e):{}).collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger(\"invalid\",this,n.validationError,e),!1):n},_removeModels:function(t,e){for(var i=[],n=0;n<t.length;n++){var r=this.get(t[n]);if(r){var s=this.indexOf(r);this.models.splice(s,1),this.length--,delete this._byId[r.cid];var o=this.modelId(r.attributes);null!=o&&delete this._byId[o],e.silent||(e.index=s,r.trigger(\"remove\",r,this,e)),i.push(r),this._removeReference(r,e)}}return i},_isModel:function(t){return t instanceof _},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);null!=i&&(this._byId[i]=t),t.on(\"all\",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);null!=i&&delete this._byId[i],this===t.collection&&delete t.collection,t.off(\"all\",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if(e){if((\"add\"===t||\"remove\"===t)&&i!==this)return;if(\"destroy\"===t&&this.remove(e,n),\"change\"===t){var r=this.modelId(e.previousAttributes()),s=this.modelId(e.attributes);r!==s&&(null!=r&&delete this._byId[r],null!=s&&(this._byId[s]=e))}}this.trigger.apply(this,arguments)}}),o(y,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},\"models\");var E=e.View=function(t){this.cid=i.uniqueId(\"view\"),i.extend(this,i.pick(t,C)),this._ensureElement(),this.initialize.apply(this,arguments)},M=/^(\\S+)\\s*(.*)$/,C=[\"model\",\"collection\",\"el\",\"id\",\"attributes\",\"className\",\"tagName\",\"events\"];i.extend(E.prototype,u,{tagName:\"div\",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,\"events\")),!t)return this;for(var e in this.undelegateEvents(),t){var n=t[e];if(i.isFunction(n)||(n=this[n]),n){var r=e.match(M);this.delegate(r[1],r[2],i.bind(n,this))}}return this},delegate:function(t,e,i){return this.$el.on(t+\".delegateEvents\"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(\".delegateEvents\"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+\".delegateEvents\"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,\"el\"));else{var t=i.extend({},i.result(this,\"attributes\"));this.id&&(t.id=i.result(this,\"id\")),this.className&&(t.class=i.result(this,\"className\")),this.setElement(this._createElement(i.result(this,\"tagName\"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,n,r){var s=V[t];i.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:s,dataType:\"json\"};if(r.url||(o.url=i.result(n,\"url\")||z()),null!=r.data||!n||\"create\"!==t&&\"update\"!==t&&\"patch\"!==t||(o.contentType=\"application/json\",o.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(o.contentType=\"application/x-www-form-urlencoded\",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&(\"PUT\"===s||\"DELETE\"===s||\"PATCH\"===s)){o.type=\"POST\",r.emulateJSON&&(o.data._method=s);var a=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader(\"X-HTTP-Method-Override\",s),a)return a.apply(this,arguments)}}\"GET\"===o.type||r.emulateJSON||(o.processData=!1);var h=r.error;r.error=function(t,e,i){r.textStatus=e,r.errorThrown=i,h&&h.call(r.context,t,e,i)};var u=r.xhr=e.ajax(i.extend(o,r));return n.trigger(\"request\",n,u,r),u};var V={create:\"POST\",update:\"PUT\",patch:\"PATCH\",delete:\"DELETE\",read:\"GET\"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var O=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},R=/\\((.*?)\\)/g,A=/(\\(\\?)?:\\w+/g,I=/\\*\\w+/g,k=/[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;i.extend(O.prototype,u,{initialize:function(){},route:function(t,n,r){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(r=n,n=\"\"),r||(r=this[n]);var s=this;return e.history.route(t,function(i){var o=s._extractParameters(t,i);!1!==s.execute(r,o,n)&&(s.trigger.apply(s,[\"route:\"+n].concat(o)),s.trigger(\"route\",n,o),e.history.trigger(\"route\",s,n,o))}),this},execute:function(t,e,i){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,\"routes\");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(k,\"\\\\$&\").replace(R,\"(?:$1)?\").replace(A,function(t,e){return e?t:\"([^/?]+)\"}).replace(I,\"([^?]*?)\"),new RegExp(\"^\"+t+\"(?:\\\\?([\\\\s\\\\S]*))?$\")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var S=e.History=function(){this.handlers=[],this.checkUrl=i.bind(this.checkUrl,this),\"undefined\"!=typeof window&&(this.location=window.location,this.history=window.history)},T=/^[#\\/]|\\s+$/g,B=/^\\/+|\\/+$/g,j=/#.*$/;S.started=!1,i.extend(S.prototype,u,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\\/]$/,\"$&/\");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+\"/\";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,\"%2525\"))},getSearch:function(){var t=this.location.href.replace(/#.*/,\"\").match(/\\?.+/);return t?t[0]:\"\"},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:\"\"},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return\"/\"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(T,\"\")},start:function(t){if(S.started)throw new Error(\"Backbone.history has already been started\");if(S.started=!0,this.options=i.extend({root:\"/\"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange=\"onhashchange\"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=(\"/\"+this.root+\"/\").replace(B,\"/\"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||\"/\";return this.location.replace(e+\"#\"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement(\"iframe\"),this.iframe.src=\"javascript:0\",this.iframe.style.display=\"none\",this.iframe.tabIndex=-1;var n=document.body,r=n.insertBefore(this.iframe,n.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash=\"#\"+this.fragment}var s=window.addEventListener||function(t,e){return attachEvent(\"on\"+t,e)};if(this._usePushState?s(\"popstate\",this.checkUrl,!1):this._useHashChange&&!this.iframe?s(\"hashchange\",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent(\"on\"+t,e)};this._usePushState?t(\"popstate\",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t(\"hashchange\",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),S.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),i.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!S.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||\"\");var i=this.root;\"\"!==t&&\"?\"!==t.charAt(0)||(i=i.slice(0,-1)||\"/\");var n=i+t;if(t=this.decodeFragment(t.replace(j,\"\")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?\"replaceState\":\"pushState\"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,\"\");t.replace(n+\"#\"+e)}else t.hash=\"#\"+e}}),e.history=new S;_.extend=y.extend=O.extend=E.extend=S.extend=function(t,e){var n,r=this;n=t&&i.has(t,\"constructor\")?t.constructor:function(){return r.apply(this,arguments)};return i.extend(n,r,e),n.prototype=i.create(r.prototype,t),n.prototype.constructor=n,n.__super__=r.prototype,n};var z=function(){throw new Error('A \"url\" property or function must be specified')},H=function(t,e){var i=e.error;e.error=function(n){i&&i.call(e.context,t,n,e),t.trigger(\"error\",t,n,e)}};return e}(a,i,t,e)}.apply(e,r))||(t.exports=s)}()}).call(this,i(3))},function(t,e,i){var n;(function(){var i=this,r=i._,s=Array.prototype,o=Object.prototype,a=Function.prototype,h=s.push,u=s.slice,c=o.toString,l=o.hasOwnProperty,d=Array.isArray,f=Object.keys,g=a.bind,p=Object.create,v=function(){},m=function(t){return t instanceof m?t:this instanceof m?void(this._wrapped=t):new m(t)};void 0!==t&&t.exports&&(e=t.exports=m),e._=m,m.VERSION=\"1.8.3\";var _=function(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)};case 4:return function(i,n,r,s){return t.call(e,i,n,r,s)}}return function(){return t.apply(e,arguments)}},y=function(t,e,i){return null==t?m.identity:m.isFunction(t)?_(t,e,i):m.isObject(t)?m.matcher(t):m.property(t)};m.iteratee=function(t,e){return y(t,e,1/0)};var w=function(t,e){return function(i){var n=arguments.length;if(n<2||null==i)return i;for(var r=1;r<n;r++)for(var s=arguments[r],o=t(s),a=o.length,h=0;h<a;h++){var u=o[h];e&&void 0!==i[u]||(i[u]=s[u])}return i}},b=function(t){if(!m.isObject(t))return{};if(p)return p(t);v.prototype=t;var e=new v;return v.prototype=null,e},x=function(t){return function(e){return null==e?void 0:e[t]}},E=Math.pow(2,53)-1,M=x(\"length\"),C=function(t){var e=M(t);return\"number\"==typeof e&&e>=0&&e<=E};function V(t){return function(e,i,n,r){i=_(i,r,4);var s=!C(e)&&m.keys(e),o=(s||e).length,a=t>0?0:o-1;return arguments.length<3&&(n=e[s?s[a]:a],a+=t),function(e,i,n,r,s,o){for(;s>=0&&s<o;s+=t){var a=r?r[s]:s;n=i(n,e[a],a,e)}return n}(e,i,n,s,a,o)}}m.each=m.forEach=function(t,e,i){var n,r;if(e=_(e,i),C(t))for(n=0,r=t.length;n<r;n++)e(t[n],n,t);else{var s=m.keys(t);for(n=0,r=s.length;n<r;n++)e(t[s[n]],s[n],t)}return t},m.map=m.collect=function(t,e,i){e=y(e,i);for(var n=!C(t)&&m.keys(t),r=(n||t).length,s=Array(r),o=0;o<r;o++){var a=n?n[o]:o;s[o]=e(t[a],a,t)}return s},m.reduce=m.foldl=m.inject=V(1),m.reduceRight=m.foldr=V(-1),m.find=m.detect=function(t,e,i){var n;if(void 0!==(n=C(t)?m.findIndex(t,e,i):m.findKey(t,e,i))&&-1!==n)return t[n]},m.filter=m.select=function(t,e,i){var n=[];return e=y(e,i),m.each(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n},m.reject=function(t,e,i){return m.filter(t,m.negate(y(e)),i)},m.every=m.all=function(t,e,i){e=y(e,i);for(var n=!C(t)&&m.keys(t),r=(n||t).length,s=0;s<r;s++){var o=n?n[s]:s;if(!e(t[o],o,t))return!1}return!0},m.some=m.any=function(t,e,i){e=y(e,i);for(var n=!C(t)&&m.keys(t),r=(n||t).length,s=0;s<r;s++){var o=n?n[s]:s;if(e(t[o],o,t))return!0}return!1},m.contains=m.includes=m.include=function(t,e,i,n){return C(t)||(t=m.values(t)),(\"number\"!=typeof i||n)&&(i=0),m.indexOf(t,e,i)>=0},m.invoke=function(t,e){var i=u.call(arguments,2),n=m.isFunction(e);return m.map(t,function(t){var r=n?e:t[e];return null==r?r:r.apply(t,i)})},m.pluck=function(t,e){return m.map(t,m.property(e))},m.where=function(t,e){return m.filter(t,m.matcher(e))},m.findWhere=function(t,e){return m.find(t,m.matcher(e))},m.max=function(t,e,i){var n,r,s=-1/0,o=-1/0;if(null==e&&null!=t)for(var a=0,h=(t=C(t)?t:m.values(t)).length;a<h;a++)(n=t[a])>s&&(s=n);else e=y(e,i),m.each(t,function(t,i,n){((r=e(t,i,n))>o||r===-1/0&&s===-1/0)&&(s=t,o=r)});return s},m.min=function(t,e,i){var n,r,s=1/0,o=1/0;if(null==e&&null!=t)for(var a=0,h=(t=C(t)?t:m.values(t)).length;a<h;a++)(n=t[a])<s&&(s=n);else e=y(e,i),m.each(t,function(t,i,n){((r=e(t,i,n))<o||r===1/0&&s===1/0)&&(s=t,o=r)});return s},m.shuffle=function(t){for(var e,i=C(t)?t:m.values(t),n=i.length,r=Array(n),s=0;s<n;s++)(e=m.random(0,s))!==s&&(r[s]=r[e]),r[e]=i[s];return r},m.sample=function(t,e,i){return null==e||i?(C(t)||(t=m.values(t)),t[m.random(t.length-1)]):m.shuffle(t).slice(0,Math.max(0,e))},m.sortBy=function(t,e,i){return e=y(e,i),m.pluck(m.map(t,function(t,i,n){return{value:t,index:i,criteria:e(t,i,n)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return t.index-e.index}),\"value\")};var O=function(t){return function(e,i,n){var r={};return i=y(i,n),m.each(e,function(n,s){var o=i(n,s,e);t(r,n,o)}),r}};m.groupBy=O(function(t,e,i){m.has(t,i)?t[i].push(e):t[i]=[e]}),m.indexBy=O(function(t,e,i){t[i]=e}),m.countBy=O(function(t,e,i){m.has(t,i)?t[i]++:t[i]=1}),m.toArray=function(t){return t?m.isArray(t)?u.call(t):C(t)?m.map(t,m.identity):m.values(t):[]},m.size=function(t){return null==t?0:C(t)?t.length:m.keys(t).length},m.partition=function(t,e,i){e=y(e,i);var n=[],r=[];return m.each(t,function(t,i,s){(e(t,i,s)?n:r).push(t)}),[n,r]},m.first=m.head=m.take=function(t,e,i){if(null!=t)return null==e||i?t[0]:m.initial(t,t.length-e)},m.initial=function(t,e,i){return u.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},m.last=function(t,e,i){if(null!=t)return null==e||i?t[t.length-1]:m.rest(t,Math.max(0,t.length-e))},m.rest=m.tail=m.drop=function(t,e,i){return u.call(t,null==e||i?1:e)},m.compact=function(t){return m.filter(t,m.identity)};var R=function(t,e,i,n){for(var r=[],s=0,o=n||0,a=M(t);o<a;o++){var h=t[o];if(C(h)&&(m.isArray(h)||m.isArguments(h))){e||(h=R(h,e,i));var u=0,c=h.length;for(r.length+=c;u<c;)r[s++]=h[u++]}else i||(r[s++]=h)}return r};function A(t){return function(e,i,n){i=y(i,n);for(var r=M(e),s=t>0?0:r-1;s>=0&&s<r;s+=t)if(i(e[s],s,e))return s;return-1}}function I(t,e,i){return function(n,r,s){var o=0,a=M(n);if(\"number\"==typeof s)t>0?o=s>=0?s:Math.max(s+a,o):a=s>=0?Math.min(s+1,a):s+a+1;else if(i&&s&&a)return n[s=i(n,r)]===r?s:-1;if(r!=r)return(s=e(u.call(n,o,a),m.isNaN))>=0?s+o:-1;for(s=t>0?o:a-1;s>=0&&s<a;s+=t)if(n[s]===r)return s;return-1}}m.flatten=function(t,e){return R(t,e,!1)},m.without=function(t){return m.difference(t,u.call(arguments,1))},m.uniq=m.unique=function(t,e,i,n){m.isBoolean(e)||(n=i,i=e,e=!1),null!=i&&(i=y(i,n));for(var r=[],s=[],o=0,a=M(t);o<a;o++){var h=t[o],u=i?i(h,o,t):h;e?(o&&s===u||r.push(h),s=u):i?m.contains(s,u)||(s.push(u),r.push(h)):m.contains(r,h)||r.push(h)}return r},m.union=function(){return m.uniq(R(arguments,!0,!0))},m.intersection=function(t){for(var e=[],i=arguments.length,n=0,r=M(t);n<r;n++){var s=t[n];if(!m.contains(e,s)){for(var o=1;o<i&&m.contains(arguments[o],s);o++);o===i&&e.push(s)}}return e},m.difference=function(t){var e=R(arguments,!0,!0,1);return m.filter(t,function(t){return!m.contains(e,t)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(t){for(var e=t&&m.max(t,M).length||0,i=Array(e),n=0;n<e;n++)i[n]=m.pluck(t,n);return i},m.object=function(t,e){for(var i={},n=0,r=M(t);n<r;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},m.findIndex=A(1),m.findLastIndex=A(-1),m.sortedIndex=function(t,e,i,n){for(var r=(i=y(i,n,1))(e),s=0,o=M(t);s<o;){var a=Math.floor((s+o)/2);i(t[a])<r?s=a+1:o=a}return s},m.indexOf=I(1,m.findIndex,m.sortedIndex),m.lastIndexOf=I(-1,m.findLastIndex),m.range=function(t,e,i){null==e&&(e=t||0,t=0),i=i||1;for(var n=Math.max(Math.ceil((e-t)/i),0),r=Array(n),s=0;s<n;s++,t+=i)r[s]=t;return r};var k=function(t,e,i,n,r){if(!(n instanceof e))return t.apply(i,r);var s=b(t.prototype),o=t.apply(s,r);return m.isObject(o)?o:s};m.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,u.call(arguments,1));if(!m.isFunction(t))throw new TypeError(\"Bind must be called on a function\");var i=u.call(arguments,2),n=function(){return k(t,n,e,this,i.concat(u.call(arguments)))};return n},m.partial=function(t){var e=u.call(arguments,1),i=function(){for(var n=0,r=e.length,s=Array(r),o=0;o<r;o++)s[o]=e[o]===m?arguments[n++]:e[o];for(;n<arguments.length;)s.push(arguments[n++]);return k(t,i,this,this,s)};return i},m.bindAll=function(t){var e,i,n=arguments.length;if(n<=1)throw new Error(\"bindAll must be passed function names\");for(e=1;e<n;e++)t[i=arguments[e]]=m.bind(t[i],t);return t},m.memoize=function(t,e){var i=function(n){var r=i.cache,s=\"\"+(e?e.apply(this,arguments):n);return m.has(r,s)||(r[s]=t.apply(this,arguments)),r[s]};return i.cache={},i},m.delay=function(t,e){var i=u.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},m.defer=m.partial(m.delay,m,1),m.throttle=function(t,e,i){var n,r,s,o=null,a=0;i||(i={});var h=function(){a=!1===i.leading?0:m.now(),o=null,s=t.apply(n,r),o||(n=r=null)};return function(){var u=m.now();a||!1!==i.leading||(a=u);var c=e-(u-a);return n=this,r=arguments,c<=0||c>e?(o&&(clearTimeout(o),o=null),a=u,s=t.apply(n,r),o||(n=r=null)):o||!1===i.trailing||(o=setTimeout(h,c)),s}},m.debounce=function(t,e,i){var n,r,s,o,a,h=function(){var u=m.now()-o;u<e&&u>=0?n=setTimeout(h,e-u):(n=null,i||(a=t.apply(s,r),n||(s=r=null)))};return function(){s=this,r=arguments,o=m.now();var u=i&&!n;return n||(n=setTimeout(h,e)),u&&(a=t.apply(s,r),s=r=null),a}},m.wrap=function(t,e){return m.partial(e,t)},m.negate=function(t){return function(){return!t.apply(this,arguments)}},m.compose=function(){var t=arguments,e=t.length-1;return function(){for(var i=e,n=t[e].apply(this,arguments);i--;)n=t[i].call(this,n);return n}},m.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},m.before=function(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}},m.once=m.partial(m.before,2);var S=!{toString:null}.propertyIsEnumerable(\"toString\"),T=[\"valueOf\",\"isPrototypeOf\",\"toString\",\"propertyIsEnumerable\",\"hasOwnProperty\",\"toLocaleString\"];function B(t,e){var i=T.length,n=t.constructor,r=m.isFunction(n)&&n.prototype||o,s=\"constructor\";for(m.has(t,s)&&!m.contains(e,s)&&e.push(s);i--;)(s=T[i])in t&&t[s]!==r[s]&&!m.contains(e,s)&&e.push(s)}m.keys=function(t){if(!m.isObject(t))return[];if(f)return f(t);var e=[];for(var i in t)m.has(t,i)&&e.push(i);return S&&B(t,e),e},m.allKeys=function(t){if(!m.isObject(t))return[];var e=[];for(var i in t)e.push(i);return S&&B(t,e),e},m.values=function(t){for(var e=m.keys(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=t[e[r]];return n},m.mapObject=function(t,e,i){e=y(e,i);for(var n,r=m.keys(t),s=r.length,o={},a=0;a<s;a++)o[n=r[a]]=e(t[n],n,t);return o},m.pairs=function(t){for(var e=m.keys(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=[e[r],t[e[r]]];return n},m.invert=function(t){for(var e={},i=m.keys(t),n=0,r=i.length;n<r;n++)e[t[i[n]]]=i[n];return e},m.functions=m.methods=function(t){var e=[];for(var i in t)m.isFunction(t[i])&&e.push(i);return e.sort()},m.extend=w(m.allKeys),m.extendOwn=m.assign=w(m.keys),m.findKey=function(t,e,i){e=y(e,i);for(var n,r=m.keys(t),s=0,o=r.length;s<o;s++)if(e(t[n=r[s]],n,t))return n},m.pick=function(t,e,i){var n,r,s={},o=t;if(null==o)return s;m.isFunction(e)?(r=m.allKeys(o),n=_(e,i)):(r=R(arguments,!1,!1,1),n=function(t,e,i){return e in i},o=Object(o));for(var a=0,h=r.length;a<h;a++){var u=r[a],c=o[u];n(c,u,o)&&(s[u]=c)}return s},m.omit=function(t,e,i){if(m.isFunction(e))e=m.negate(e);else{var n=m.map(R(arguments,!1,!1,1),String);e=function(t,e){return!m.contains(n,e)}}return m.pick(t,e,i)},m.defaults=w(m.allKeys,!0),m.create=function(t,e){var i=b(t);return e&&m.extendOwn(i,e),i},m.clone=function(t){return m.isObject(t)?m.isArray(t)?t.slice():m.extend({},t):t},m.tap=function(t,e){return e(t),t},m.isMatch=function(t,e){var i=m.keys(e),n=i.length;if(null==t)return!n;for(var r=Object(t),s=0;s<n;s++){var o=i[s];if(e[o]!==r[o]||!(o in r))return!1}return!0};var j=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof m&&(t=t._wrapped),e instanceof m&&(e=e._wrapped);var r=c.call(t);if(r!==c.call(e))return!1;switch(r){case\"[object RegExp]\":case\"[object String]\":return\"\"+t==\"\"+e;case\"[object Number]\":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case\"[object Date]\":case\"[object Boolean]\":return+t==+e}var s=\"[object Array]\"===r;if(!s){if(\"object\"!=typeof t||\"object\"!=typeof e)return!1;var o=t.constructor,a=e.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&\"constructor\"in t&&\"constructor\"in e)return!1}i=i||[],n=n||[];for(var h=i.length;h--;)if(i[h]===t)return n[h]===e;if(i.push(t),n.push(e),s){if((h=t.length)!==e.length)return!1;for(;h--;)if(!j(t[h],e[h],i,n))return!1}else{var u,l=m.keys(t);if(h=l.length,m.keys(e).length!==h)return!1;for(;h--;)if(u=l[h],!m.has(e,u)||!j(t[u],e[u],i,n))return!1}return i.pop(),n.pop(),!0};m.isEqual=function(t,e){return j(t,e)},m.isEmpty=function(t){return null==t||(C(t)&&(m.isArray(t)||m.isString(t)||m.isArguments(t))?0===t.length:0===m.keys(t).length)},m.isElement=function(t){return!(!t||1!==t.nodeType)},m.isArray=d||function(t){return\"[object Array]\"===c.call(t)},m.isObject=function(t){var e=typeof t;return\"function\"===e||\"object\"===e&&!!t},m.each([\"Arguments\",\"Function\",\"String\",\"Number\",\"Date\",\"RegExp\",\"Error\"],function(t){m[\"is\"+t]=function(e){return c.call(e)===\"[object \"+t+\"]\"}}),m.isArguments(arguments)||(m.isArguments=function(t){return m.has(t,\"callee\")}),\"function\"!=typeof/./&&\"object\"!=typeof Int8Array&&(m.isFunction=function(t){return\"function\"==typeof t||!1}),m.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},m.isNaN=function(t){return m.isNumber(t)&&t!==+t},m.isBoolean=function(t){return!0===t||!1===t||\"[object Boolean]\"===c.call(t)},m.isNull=function(t){return null===t},m.isUndefined=function(t){return void 0===t},m.has=function(t,e){return null!=t&&l.call(t,e)},m.noConflict=function(){return i._=r,this},m.identity=function(t){return t},m.constant=function(t){return function(){return t}},m.noop=function(){},m.property=x,m.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},m.matcher=m.matches=function(t){return t=m.extendOwn({},t),function(e){return m.isMatch(e,t)}},m.times=function(t,e,i){var n=Array(Math.max(0,t));e=_(e,i,1);for(var r=0;r<t;r++)n[r]=e(r);return n},m.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},m.now=Date.now||function(){return(new Date).getTime()};var z={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#x27;\",\"`\":\"&#x60;\"},H=m.invert(z),F=function(t){var e=function(e){return t[e]},i=\"(?:\"+m.keys(t).join(\"|\")+\")\",n=RegExp(i),r=RegExp(i,\"g\");return function(t){return t=null==t?\"\":\"\"+t,n.test(t)?t.replace(r,e):t}};m.escape=F(z),m.unescape=F(H),m.result=function(t,e,i){var n=null==t?void 0:t[e];return void 0===n&&(n=i),m.isFunction(n)?n.call(t):n};var N=0;m.uniqueId=function(t){var e=++N+\"\";return t?t+e:e},m.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g,escape:/<%-([\\s\\S]+?)%>/g};var $=/(.)^/,P={\"'\":\"'\",\"\\\\\":\"\\\\\",\"\\r\":\"r\",\"\\n\":\"n\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},U=/\\\\|'|\\r|\\n|\\u2028|\\u2029/g,D=function(t){return\"\\\\\"+P[t]};m.template=function(t,e,i){!e&&i&&(e=i),e=m.defaults({},e,m.templateSettings);var n=RegExp([(e.escape||$).source,(e.interpolate||$).source,(e.evaluate||$).source].join(\"|\")+\"|$\",\"g\"),r=0,s=\"__p+='\";t.replace(n,function(e,i,n,o,a){return s+=t.slice(r,a).replace(U,D),r=a+e.length,i?s+=\"'+\\n((__t=(\"+i+\"))==null?'':_.escape(__t))+\\n'\":n?s+=\"'+\\n((__t=(\"+n+\"))==null?'':__t)+\\n'\":o&&(s+=\"';\\n\"+o+\"\\n__p+='\"),e}),s+=\"';\\n\",e.variable||(s=\"with(obj||{}){\\n\"+s+\"}\\n\"),s=\"var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\\n\"+s+\"return __p;\\n\";try{var o=new Function(e.variable||\"obj\",\"_\",s)}catch(t){throw t.source=s,t}var a=function(t){return o.call(this,t,m)},h=e.variable||\"obj\";return a.source=\"function(\"+h+\"){\\n\"+s+\"}\",a},m.chain=function(t){var e=m(t);return e._chain=!0,e};var q=function(t,e){return t._chain?m(e).chain():e};m.mixin=function(t){m.each(m.functions(t),function(e){var i=m[e]=t[e];m.prototype[e]=function(){var t=[this._wrapped];return h.apply(t,arguments),q(this,i.apply(m,t))}})},m.mixin(m),m.each([\"pop\",\"push\",\"reverse\",\"shift\",\"sort\",\"splice\",\"unshift\"],function(t){var e=s[t];m.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),\"shift\"!==t&&\"splice\"!==t||0!==i.length||delete i[0],q(this,i)}}),m.each([\"concat\",\"join\",\"slice\"],function(t){var e=s[t];m.prototype[t]=function(){return q(this,e.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return\"\"+this._wrapped},void 0===(n=function(){return m}.apply(e,[]))||(t.exports=n)}).call(this)},function(t,e,i){var n=i(0),r=i(5),s=i(8),o=r.LayoutView.extend({tagName:\"li\",template:i(9)});new(r.CompositeView.extend({el:\"#app-hook\",template:i(10),childView:o,childViewContainer:\"ul\",ui:{assignee:\"#id_assignee\",form:\"form\",text:\"#id_text\"},triggers:{\"submit @ui.form\":\"add:todo:item\"},collectionEvents:{add:\"itemAdded\"},onAddTodoItem:function(){if(this.model.set({assignee:this.ui.assignee.val(),text:this.ui.text.val()}),console.log(this.model),this.model.isValid()){var t=this.model.pick(\"assignee\",\"text\");this.collection.add(t)}},itemAdded:function(){this.model.set({assignee:\"\",text:\"\"}),this.ui.assignee.val(\"\"),this.ui.text.val(\"\")}}))({collection:new n.Collection([{assignee:\"Scott\",text:\"Write a book about Marionette\"},{assignee:\"Andrew\",text:\"Do some coding\"}]),model:new s}).render()},function(t,e){var i;i=function(){return this}();try{i=i||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(i=window)}t.exports=i},function(t,e){t.exports=$},function(t,e,i){var n,r;!function(s,o){n=[i(0),i(1),i(6),i(7)],void 0===(r=function(t,e){return s.Marionette=s.Mn=function(t,e,i){\"use strict\";var n=t.Marionette,r=t.Mn,s=e.Marionette={};s.VERSION=\"2.4.7\",s.noConflict=function(){return t.Marionette=n,t.Mn=r,this},s.Deferred=e.$.Deferred,s.FEATURES={},s.isEnabled=function(t){return!!s.FEATURES[t]},s.extend=e.Model.extend,s.isNodeAttached=function(t){return e.$.contains(document.documentElement,t)},s.mergeOptions=function(t,e){t&&i.extend(this,i.pick(t,e))},s.getOption=function(t,e){if(t&&e)return t.options&&void 0!==t.options[e]?t.options[e]:t[e]},s.proxyGetOption=function(t){return s.getOption(this,t)},s._getValue=function(t,e,n){return i.isFunction(t)&&(t=n?t.apply(e,n):t.call(e)),t},s.normalizeMethods=function(t){return i.reduce(t,function(t,e,n){return i.isFunction(e)||(e=this[e]),e&&(t[n]=e),t},{},this)},s.normalizeUIString=function(t,e){return t.replace(/@ui\\.[a-zA-Z-_$0-9]*/g,function(t){return e[t.slice(4)]})},s.normalizeUIKeys=function(t,e){return i.reduce(t,function(t,i,n){var r=s.normalizeUIString(n,e);return t[r]=i,t},{})},s.normalizeUIValues=function(t,e,n){return i.each(t,function(r,o){i.isString(r)?t[o]=s.normalizeUIString(r,e):i.isObject(r)&&i.isArray(n)&&(i.extend(r,s.normalizeUIValues(i.pick(r,n),e)),i.each(n,function(t){var n=r[t];i.isString(n)&&(r[t]=s.normalizeUIString(n,e))}))}),t},s.actAsCollection=function(t,e){i.each([\"forEach\",\"each\",\"map\",\"find\",\"detect\",\"filter\",\"select\",\"reject\",\"every\",\"all\",\"some\",\"any\",\"include\",\"contains\",\"invoke\",\"toArray\",\"first\",\"initial\",\"rest\",\"last\",\"without\",\"isEmpty\",\"pluck\"],function(n){t[n]=function(){var t=i.values(i.result(this,e)),r=[t].concat(i.toArray(arguments));return i[n].apply(i,r)}})};var o=s.deprecate=function(t,e){i.isObject(t)&&(t=t.prev+\" is going to be removed in the future. Please use \"+t.next+\" instead.\"+(t.url?\" See: \"+t.url:\"\")),void 0!==e&&e||o._cache[t]||(o._warn(\"Deprecation warning: \"+t),o._cache[t]=!0)};o._console=\"undefined\"!=typeof console?console:{},o._warn=function(){var t=o._console.warn||o._console.log||function(){};return t.apply(o._console,arguments)},o._cache={},s._triggerMethod=function(){var t=/(^|:)(\\w)/gi;function e(t,e,i){return i.toUpperCase()}return function(n,r,s){var o=arguments.length<3;o&&(r=(s=r)[0]);var a,h=\"on\"+r.replace(t,e),u=n[h];return i.isFunction(u)&&(a=u.apply(n,o?i.rest(s):s)),i.isFunction(n.trigger)&&(o+s.length>1?n.trigger.apply(n,o?s:[r].concat(i.drop(s,0))):n.trigger(r)),a}}(),s.triggerMethod=function(t){return s._triggerMethod(this,arguments)},s.triggerMethodOn=function(t){var e=i.isFunction(t.triggerMethod)?t.triggerMethod:s.triggerMethod;return e.apply(t,i.rest(arguments))},s.MonitorDOMRefresh=function(t){function e(){t._isShown&&t._isRendered&&s.isNodeAttached(t.el)&&s.triggerMethodOn(t,\"dom:refresh\",t)}t._isDomRefreshMonitored||(t._isDomRefreshMonitored=!0,t.on({show:function(){t._isShown=!0,e()},render:function(){t._isRendered=!0,e()}}))},function(t){function e(e,n,r,s){var o=s.split(/\\s+/);i.each(o,function(i){var s=e[i];if(!s)throw new t.Error('Method \"'+i+'\" was configured as an event handler, but does not exist.');e.listenTo(n,r,s)})}function n(t,e,i,n){t.listenTo(e,i,n)}function r(t,e,n,r){var s=r.split(/\\s+/);i.each(s,function(i){var r=t[i];t.stopListening(e,n,r)})}function s(t,e,i,n){t.stopListening(e,i,n)}function o(e,n,r,s,o){if(n&&r){if(!i.isObject(r))throw new t.Error({message:\"Bindings must be an object or function.\",url:\"marionette.functions.html#marionettebindentityevents\"});r=t._getValue(r,e),i.each(r,function(t,r){i.isFunction(t)?s(e,n,r,t):o(e,n,r,t)})}}t.bindEntityEvents=function(t,i,r){o(t,i,r,n,e)},t.unbindEntityEvents=function(t,e,i){o(t,e,i,s,r)},t.proxyBindEntityEvents=function(e,i){return t.bindEntityEvents(this,e,i)},t.proxyUnbindEntityEvents=function(e,i){return t.unbindEntityEvents(this,e,i)}}(s);var a=[\"description\",\"fileName\",\"lineNumber\",\"name\",\"message\",\"number\"];return s.Error=s.extend.call(Error,{urlRoot:\"http://marionettejs.com/docs/v\"+s.VERSION+\"/\",constructor:function(t,e){i.isObject(t)?t=(e=t).message:e||(e={});var n=Error.call(this,t);i.extend(this,i.pick(n,a),i.pick(e,a)),this.captureStackTrace(),e.url&&(this.url=this.urlRoot+e.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,s.Error)},toString:function(){return this.name+\": \"+this.message+(this.url?\" See: \"+this.url:\"\")}}),s.Error.extend=s.extend,s.Callbacks=function(){this._deferred=s.Deferred(),this._callbacks=[]},i.extend(s.Callbacks.prototype,{add:function(t,e){var n=i.result(this._deferred,\"promise\");this._callbacks.push({cb:t,ctx:e}),n.then(function(i){e&&(i.context=e),t.call(i.context,i.options)})},run:function(t,e){this._deferred.resolve({options:t,context:e})},reset:function(){var t=this._callbacks;this._deferred=s.Deferred(),this._callbacks=[],i.each(t,function(t){this.add(t.cb,t.ctx)},this)}}),s.Controller=function(t){this.options=t||{},i.isFunction(this.initialize)&&this.initialize(this.options)},s.Controller.extend=s.extend,i.extend(s.Controller.prototype,e.Events,{destroy:function(){return s._triggerMethod(this,\"before:destroy\",arguments),s._triggerMethod(this,\"destroy\",arguments),this.stopListening(),this.off(),this},triggerMethod:s.triggerMethod,mergeOptions:s.mergeOptions,getOption:s.proxyGetOption}),s.Object=function(t){this.options=i.extend({},i.result(this,\"options\"),t),this.initialize.apply(this,arguments)},s.Object.extend=s.extend,i.extend(s.Object.prototype,e.Events,{initialize:function(){},destroy:function(t){return t=t||{},this.triggerMethod(\"before:destroy\",t),this.triggerMethod(\"destroy\",t),this.stopListening(),this},triggerMethod:s.triggerMethod,mergeOptions:s.mergeOptions,getOption:s.proxyGetOption,bindEntityEvents:s.proxyBindEntityEvents,unbindEntityEvents:s.proxyUnbindEntityEvents}),s.Region=s.Object.extend({constructor:function(t){if(this.options=t||{},this.el=this.getOption(\"el\"),this.el=this.el instanceof e.$?this.el[0]:this.el,!this.el)throw new s.Error({name:\"NoElError\",message:'An \"el\" must be specified for a region.'});this.$el=this.getEl(this.el),s.Object.call(this,t)},show:function(t,e){if(this._ensureElement()){this._ensureViewIsIntact(t),s.MonitorDOMRefresh(t);var n=e||{},r=t!==this.currentView,o=!!n.preventDestroy,a=!!n.forceShow,h=!!this.currentView,u=r&&!o,c=r||a;if(h&&this.triggerMethod(\"before:swapOut\",this.currentView,this,e),this.currentView&&r&&delete this.currentView._parent,u?this.empty():h&&c&&this.currentView.off(\"destroy\",this.empty,this),c){t.once(\"destroy\",this.empty,this),t._parent=this,this._renderView(t),h&&this.triggerMethod(\"before:swap\",t,this,e),this.triggerMethod(\"before:show\",t,this,e),s.triggerMethodOn(t,\"before:show\",t,this,e),h&&this.triggerMethod(\"swapOut\",this.currentView,this,e);var l=s.isNodeAttached(this.el),d=[],f=i.extend({triggerBeforeAttach:this.triggerBeforeAttach,triggerAttach:this.triggerAttach},n);return l&&f.triggerBeforeAttach&&(d=this._displayedViews(t),this._triggerAttach(d,\"before:\")),this.attachHtml(t),this.currentView=t,l&&f.triggerAttach&&(d=this._displayedViews(t),this._triggerAttach(d)),h&&this.triggerMethod(\"swap\",t,this,e),this.triggerMethod(\"show\",t,this,e),s.triggerMethodOn(t,\"show\",t,this,e),this}return this}},triggerBeforeAttach:!0,triggerAttach:!0,_triggerAttach:function(t,e){var n=(e||\"\")+\"attach\";i.each(t,function(t){s.triggerMethodOn(t,n,t,this)},this)},_displayedViews:function(t){return i.union([t],i.result(t,\"_getNestedViews\")||[])},_renderView:function(t){t.supportsRenderLifecycle||s.triggerMethodOn(t,\"before:render\",t),t.render(),t.supportsRenderLifecycle||s.triggerMethodOn(t,\"render\",t)},_ensureElement:function(){if(i.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),!this.$el||0===this.$el.length){if(this.getOption(\"allowMissingEl\"))return!1;throw new s.Error('An \"el\" '+this.$el.selector+\" must exist in DOM\")}return!0},_ensureViewIsIntact:function(t){if(!t)throw new s.Error({name:\"ViewNotValid\",message:\"The view passed is undefined and therefore invalid. You must pass a view instance to show.\"});if(t.isDestroyed)throw new s.Error({name:\"ViewDestroyedError\",message:'View (cid: \"'+t.cid+'\") has already been destroyed and cannot be used.'})},getEl:function(t){return e.$(t,s._getValue(this.options.parentEl,this))},attachHtml:function(t){this.$el.contents().detach(),this.el.appendChild(t.el)},empty:function(t){var e=this.currentView,i=!!(t||{}).preventDestroy;return e?(e.off(\"destroy\",this.empty,this),this.triggerMethod(\"before:empty\",e),i||this._destroyView(),this.triggerMethod(\"empty\",e),delete this.currentView,i&&this.$el.contents().detach(),this):this},_destroyView:function(){var t=this.currentView;t.isDestroyed||(t.supportsDestroyLifecycle||s.triggerMethodOn(t,\"before:destroy\",t),t.destroy?t.destroy():(t.remove(),t.isDestroyed=!0),t.supportsDestroyLifecycle||s.triggerMethodOn(t,\"destroy\",t))},attachView:function(t){return this.currentView&&delete this.currentView._parent,t._parent=this,this.currentView=t,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this}},{buildRegion:function(t,e){if(i.isString(t))return this._buildRegionFromSelector(t,e);if(t.selector||t.el||t.regionClass)return this._buildRegionFromObject(t,e);if(i.isFunction(t))return this._buildRegionFromRegionClass(t);throw new s.Error({message:\"Improper region configuration type.\",url:\"marionette.region.html#region-configuration-types\"})},_buildRegionFromSelector:function(t,e){return new e({el:t})},_buildRegionFromObject:function(t,e){var n=t.regionClass||e,r=i.omit(t,\"selector\",\"regionClass\");return t.selector&&!r.el&&(r.el=t.selector),new n(r)},_buildRegionFromRegionClass:function(t){return new t}}),s.RegionManager=s.Controller.extend({constructor:function(t){this._regions={},this.length=0,s.Controller.call(this,t),this.addRegions(this.getOption(\"regions\"))},addRegions:function(t,e){return t=s._getValue(t,this,arguments),i.reduce(t,function(t,n,r){return i.isString(n)&&(n={selector:n}),n.selector&&(n=i.defaults({},n,e)),t[r]=this.addRegion(r,n),t},{},this)},addRegion:function(t,e){var i;return i=e instanceof s.Region?e:s.Region.buildRegion(e,s.Region),this.triggerMethod(\"before:add:region\",t,i),i._parent=this,this._store(t,i),this.triggerMethod(\"add:region\",t,i),i},get:function(t){return this._regions[t]},getRegions:function(){return i.clone(this._regions)},removeRegion:function(t){var e=this._regions[t];return this._remove(t,e),e},removeRegions:function(){var t=this.getRegions();return i.each(this._regions,function(t,e){this._remove(e,t)},this),t},emptyRegions:function(){var t=this.getRegions();return i.invoke(t,\"empty\"),t},destroy:function(){return this.removeRegions(),s.Controller.prototype.destroy.apply(this,arguments)},_store:function(t,e){this._regions[t]||this.length++,this._regions[t]=e},_remove:function(t,e){this.triggerMethod(\"before:remove:region\",t,e),e.empty(),e.stopListening(),delete e._parent,delete this._regions[t],this.length--,this.triggerMethod(\"remove:region\",t,e)}}),s.actAsCollection(s.RegionManager.prototype,\"_regions\"),s.TemplateCache=function(t){this.templateId=t},i.extend(s.TemplateCache,{templateCaches:{},get:function(t,e){var i=this.templateCaches[t];return i||(i=new s.TemplateCache(t),this.templateCaches[t]=i),i.load(e)},clear:function(){var t,e=i.toArray(arguments),n=e.length;if(n>0)for(t=0;t<n;t++)delete this.templateCaches[e[t]];else this.templateCaches={}}}),i.extend(s.TemplateCache.prototype,{load:function(t){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId,t);return this.compiledTemplate=this.compileTemplate(e,t),this.compiledTemplate},loadTemplate:function(t,i){var n=e.$(t);if(!n.length)throw new s.Error({name:\"NoTemplateError\",message:'Could not find template: \"'+t+'\"'});return n.html()},compileTemplate:function(t,e){return i.template(t,e)}}),s.Renderer={render:function(t,e){if(!t)throw new s.Error({name:\"TemplateNotFoundError\",message:\"Cannot render the template since its false, null or undefined.\"});return(i.isFunction(t)?t:s.TemplateCache.get(t))(e)}},s.View=e.View.extend({isDestroyed:!1,supportsRenderLifecycle:!0,supportsDestroyLifecycle:!0,constructor:function(t){this.render=i.bind(this.render,this),t=s._getValue(t,this),this.options=i.extend({},i.result(this,\"options\"),t),this._behaviors=s.Behaviors(this),e.View.call(this,this.options),s.MonitorDOMRefresh(this)},getTemplate:function(){return this.getOption(\"template\")},serializeModel:function(t){return t.toJSON.apply(t,i.rest(arguments))},mixinTemplateHelpers:function(t){t=t||{};var e=this.getOption(\"templateHelpers\");return e=s._getValue(e,this),i.extend(t,e)},normalizeUIKeys:function(t){var e=i.result(this,\"_uiBindings\");return s.normalizeUIKeys(t,e||i.result(this,\"ui\"))},normalizeUIValues:function(t,e){var n=i.result(this,\"ui\"),r=i.result(this,\"_uiBindings\");return s.normalizeUIValues(t,r||n,e)},configureTriggers:function(){if(this.triggers){var t=this.normalizeUIKeys(i.result(this,\"triggers\"));return i.reduce(t,function(t,e,i){return t[i]=this._buildViewTrigger(e),t},{},this)}},delegateEvents:function(t){return this._delegateDOMEvents(t),this.bindEntityEvents(this.model,this.getOption(\"modelEvents\")),this.bindEntityEvents(this.collection,this.getOption(\"collectionEvents\")),i.each(this._behaviors,function(t){t.bindEntityEvents(this.model,t.getOption(\"modelEvents\")),t.bindEntityEvents(this.collection,t.getOption(\"collectionEvents\"))},this),this},_delegateDOMEvents:function(t){var n=s._getValue(t||this.events,this);n=this.normalizeUIKeys(n),i.isUndefined(t)&&(this.events=n);var r={},o=i.result(this,\"behaviorEvents\")||{},a=this.configureTriggers(),h=i.result(this,\"behaviorTriggers\")||{};i.extend(r,o,n,a,h),e.View.prototype.delegateEvents.call(this,r)},undelegateEvents:function(){return e.View.prototype.undelegateEvents.apply(this,arguments),this.unbindEntityEvents(this.model,this.getOption(\"modelEvents\")),this.unbindEntityEvents(this.collection,this.getOption(\"collectionEvents\")),i.each(this._behaviors,function(t){t.unbindEntityEvents(this.model,t.getOption(\"modelEvents\")),t.unbindEntityEvents(this.collection,t.getOption(\"collectionEvents\"))},this),this},_ensureViewIsIntact:function(){if(this.isDestroyed)throw new s.Error({name:\"ViewDestroyedError\",message:'View (cid: \"'+this.cid+'\") has already been destroyed and cannot be used.'})},destroy:function(){if(this.isDestroyed)return this;var t=i.toArray(arguments);return this.triggerMethod.apply(this,[\"before:destroy\"].concat(t)),this.isDestroyed=!0,this.triggerMethod.apply(this,[\"destroy\"].concat(t)),this.unbindUIElements(),this.isRendered=!1,this.remove(),i.invoke(this._behaviors,\"destroy\",t),this},bindUIElements:function(){this._bindUIElements(),i.invoke(this._behaviors,this._bindUIElements)},_bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var t=i.result(this,\"_uiBindings\");this.ui={},i.each(t,function(t,e){this.ui[e]=this.$(t)},this)}},unbindUIElements:function(){this._unbindUIElements(),i.invoke(this._behaviors,this._unbindUIElements)},_unbindUIElements:function(){this.ui&&this._uiBindings&&(i.each(this.ui,function(t,e){delete this.ui[e]},this),this.ui=this._uiBindings,delete this._uiBindings)},_buildViewTrigger:function(t){var e=i.defaults({},t,{preventDefault:!0,stopPropagation:!0}),n=i.isObject(t)?e.event:t;return function(t){t&&(t.preventDefault&&e.preventDefault&&t.preventDefault(),t.stopPropagation&&e.stopPropagation&&t.stopPropagation());var i={view:this,model:this.model,collection:this.collection};this.triggerMethod(n,i)}},setElement:function(){var t=e.View.prototype.setElement.apply(this,arguments);return i.invoke(this._behaviors,\"proxyViewProperties\",this),t},triggerMethod:function(){var t=s._triggerMethod(this,arguments);return this._triggerEventOnBehaviors(arguments),this._triggerEventOnParentLayout(arguments[0],i.rest(arguments)),t},_triggerEventOnBehaviors:function(t){for(var e=s._triggerMethod,i=this._behaviors,n=0,r=i&&i.length;n<r;n++)e(i[n],t)},_triggerEventOnParentLayout:function(t,e){var n=this._parentLayoutView();if(n){var r=s.getOption(n,\"childViewEventPrefix\")+\":\"+t,o=[this].concat(e);s._triggerMethod(n,r,o);var a=s.getOption(n,\"childEvents\");a=s._getValue(a,n);var h=n.normalizeMethods(a);h&&i.isFunction(h[t])&&h[t].apply(n,o)}},_getImmediateChildren:function(){return[]},_getNestedViews:function(){var t=this._getImmediateChildren();return t.length?i.reduce(t,function(t,e){return e._getNestedViews?t.concat(e._getNestedViews()):t},t):t},_parentLayoutView:function(){for(var t=this._parent;t;){if(t instanceof s.LayoutView)return t;t=t._parent}},normalizeMethods:s.normalizeMethods,mergeOptions:s.mergeOptions,getOption:s.proxyGetOption,bindEntityEvents:s.proxyBindEntityEvents,unbindEntityEvents:s.proxyUnbindEntityEvents}),s.ItemView=s.View.extend({constructor:function(){s.View.apply(this,arguments)},serializeData:function(){if(!this.model&&!this.collection)return{};var t=[this.model||this.collection];return arguments.length&&t.push.apply(t,arguments),this.model?this.serializeModel.apply(this,t):{items:this.serializeCollection.apply(this,t)}},serializeCollection:function(t){return t.toJSON.apply(t,i.rest(arguments))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod(\"before:render\",this),this._renderTemplate(),this.isRendered=!0,this.bindUIElements(),this.triggerMethod(\"render\",this),this},_renderTemplate:function(){var t=this.getTemplate();if(!1!==t){if(!t)throw new s.Error({name:\"UndefinedTemplateError\",message:\"Cannot render the template since it is null or undefined.\"});var e=this.mixinTemplateHelpers(this.serializeData()),i=s.Renderer.render(t,e,this);return this.attachElContent(i),this}},attachElContent:function(t){return this.$el.html(t),this}}),s.CollectionView=s.View.extend({childViewEventPrefix:\"childview\",sort:!0,constructor:function(t){this.once(\"render\",this._initialEvents),this._initChildViewStorage(),s.View.apply(this,arguments),this.on({\"before:show\":this._onBeforeShowCalled,show:this._onShowCalled,\"before:attach\":this._onBeforeAttachCalled,attach:this._onAttachCalled}),this.initRenderBuffer()},initRenderBuffer:function(){this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){var t,e=this._isShown&&s.isNodeAttached(this.el);this.isBuffering=!1,this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,\"before:show\"),e&&this._triggerBeforeAttach&&(t=this._getNestedViews(),this._triggerMethodMany(t,this,\"before:attach\")),this.attachBuffer(this,this._createBuffer()),e&&this._triggerAttach&&(t=this._getNestedViews(),this._triggerMethodMany(t,this,\"attach\")),this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,\"show\"),this.initRenderBuffer()},_triggerMethodMany:function(t,e,n){var r=i.drop(arguments,3);i.each(t,function(t){s.triggerMethodOn.apply(t,[t,n,t,e].concat(r))})},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,\"add\",this._onCollectionAdd),this.listenTo(this.collection,\"remove\",this._onCollectionRemove),this.listenTo(this.collection,\"reset\",this.render),this.getOption(\"sort\")&&this.listenTo(this.collection,\"sort\",this._sortViews))},_onCollectionAdd:function(t,e,n){var r=void 0!==n.at&&(n.index||e.indexOf(t));if((this.getOption(\"filter\")||!1===r)&&(r=i.indexOf(this._filteredSortedModels(r),t)),this._shouldAddChild(t,r)){this.destroyEmptyView();var s=this.getChildView(t);this.addChild(t,s,r)}},_onCollectionRemove:function(t){var e=this.children.findByModel(t);this.removeChildView(e),this.checkEmpty()},_onBeforeShowCalled:function(){this._triggerBeforeAttach=this._triggerAttach=!1,this.children.each(function(t){s.triggerMethodOn(t,\"before:show\",t)})},_onShowCalled:function(){this.children.each(function(t){s.triggerMethodOn(t,\"show\",t)})},_onBeforeAttachCalled:function(){this._triggerBeforeAttach=!0},_onAttachCalled:function(){this._triggerAttach=!0},render:function(){return this._ensureViewIsIntact(),this.triggerMethod(\"before:render\",this),this._renderChildren(),this.isRendered=!0,this.triggerMethod(\"render\",this),this},reorder:function(){var t=this.children,e=this._filteredSortedModels();if(!e.length&&this._showingEmptyView)return this;if(i.some(e,function(e){return!t.findByModel(e)}))this.render();else{var n=i.map(e,function(e,i){var n=t.findByModel(e);return n._index=i,n.el}),r=t.filter(function(t){return!i.contains(n,t.el)});this.triggerMethod(\"before:reorder\"),this._appendReorderedChildren(n),i.each(r,this.removeChildView,this),this.checkEmpty(),this.triggerMethod(\"reorder\")}},resortView:function(){s.getOption(this,\"reorderOnSort\")?this.reorder():this.render()},_sortViews:function(){var t=this._filteredSortedModels();i.find(t,function(t,e){var i=this.children.findByModel(t);return!i||i._index!==e},this)&&this.resortView()},_emptyViewIndex:-1,_appendReorderedChildren:function(t){this.$el.append(t)},_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren({checkEmpty:!1}),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod(\"before:render:collection\",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod(\"render:collection\",this),this.children.isEmpty()&&this.getOption(\"filter\")&&this.showEmptyView())},showCollection:function(){var t,e=this._filteredSortedModels();i.each(e,function(e,i){t=this.getChildView(e),this.addChild(e,t,i)},this)},_filteredSortedModels:function(t){var e,n=this.getViewComparator(),r=this.collection.models;return t=Math.min(Math.max(t,0),r.length-1),n&&(t&&(e=r[t],r=r.slice(0,t).concat(r.slice(t+1))),r=this._sortModelsBy(r,n),e&&r.splice(t,0,e)),this.getOption(\"filter\")&&(r=i.filter(r,function(t,e){return this._shouldAddChild(t,e)},this)),r},_sortModelsBy:function(t,e){return\"string\"==typeof e?i.sortBy(t,function(t){return t.get(e)},this):1===e.length?i.sortBy(t,e,this):t.sort(i.bind(e,this))},showEmptyView:function(){var t=this.getEmptyView();if(t&&!this._showingEmptyView){this.triggerMethod(\"before:render:empty\"),this._showingEmptyView=!0;var i=new e.Model;this.addEmptyView(i,t),this.triggerMethod(\"render:empty\")}},destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod(\"before:remove:empty\"),this.destroyChildren(),delete this._showingEmptyView,this.triggerMethod(\"remove:empty\"))},getEmptyView:function(){return this.getOption(\"emptyView\")},addEmptyView:function(t,e){var n,r=this._isShown&&!this.isBuffering&&s.isNodeAttached(this.el),o=this.getOption(\"emptyViewOptions\")||this.getOption(\"childViewOptions\");i.isFunction(o)&&(o=o.call(this,t,this._emptyViewIndex));var a=this.buildChildView(t,e,o);a._parent=this,this.proxyChildEvents(a),a.once(\"render\",function(){this._isShown&&s.triggerMethodOn(a,\"before:show\",a),r&&this._triggerBeforeAttach&&(n=this._getViewAndNested(a),this._triggerMethodMany(n,this,\"before:attach\"))},this),this.children.add(a),this.renderChildView(a,this._emptyViewIndex),r&&this._triggerAttach&&(n=this._getViewAndNested(a),this._triggerMethodMany(n,this,\"attach\")),this._isShown&&s.triggerMethodOn(a,\"show\",a)},getChildView:function(t){var e=this.getOption(\"childView\");if(!e)throw new s.Error({name:\"NoChildViewError\",message:'A \"childView\" must be specified'});return e},addChild:function(t,e,i){var n=this.getOption(\"childViewOptions\");n=s._getValue(n,this,[t,i]);var r=this.buildChildView(t,e,n);return this._updateIndices(r,!0,i),this.triggerMethod(\"before:add:child\",r),this._addChildView(r,i),this.triggerMethod(\"add:child\",r),r._parent=this,r},_updateIndices:function(t,e,i){this.getOption(\"sort\")&&(e&&(t._index=i),this.children.each(function(i){i._index>=t._index&&(i._index+=e?1:-1)}))},_addChildView:function(t,e){var i,n=this._isShown&&!this.isBuffering&&s.isNodeAttached(this.el);this.proxyChildEvents(t),t.once(\"render\",function(){this._isShown&&!this.isBuffering&&s.triggerMethodOn(t,\"before:show\",t),n&&this._triggerBeforeAttach&&(i=this._getViewAndNested(t),this._triggerMethodMany(i,this,\"before:attach\"))},this),this.children.add(t),this.renderChildView(t,e),n&&this._triggerAttach&&(i=this._getViewAndNested(t),this._triggerMethodMany(i,this,\"attach\")),this._isShown&&!this.isBuffering&&s.triggerMethodOn(t,\"show\",t)},renderChildView:function(t,e){return t.supportsRenderLifecycle||s.triggerMethodOn(t,\"before:render\",t),t.render(),t.supportsRenderLifecycle||s.triggerMethodOn(t,\"render\",t),this.attachHtml(this,t,e),t},buildChildView:function(t,e,n){var r=new e(i.extend({model:t},n));return s.MonitorDOMRefresh(r),r},removeChildView:function(t){return t?(this.triggerMethod(\"before:remove:child\",t),t.supportsDestroyLifecycle||s.triggerMethodOn(t,\"before:destroy\",t),t.destroy?t.destroy():t.remove(),t.supportsDestroyLifecycle||s.triggerMethodOn(t,\"destroy\",t),delete t._parent,this.stopListening(t),this.children.remove(t),this.triggerMethod(\"remove:child\",t),this._updateIndices(t,!1),t):t},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(t,e){t.$el.append(e)},_createBuffer:function(){var t=document.createDocumentFragment();return i.each(this._bufferedChildren,function(e){t.appendChild(e.el)}),t},attachHtml:function(t,e,i){t.isBuffering?t._bufferedChildren.splice(i,0,e):t._insertBefore(e,i)||t._insertAfter(e)},_insertBefore:function(t,e){var i;return this.getOption(\"sort\")&&e<this.children.length-1&&(i=this.children.find(function(t){return t._index===e+1})),!!i&&(i.$el.before(t.el),!0)},_insertAfter:function(t){this.$el.append(t.el)},_initChildViewStorage:function(){this.children=new e.ChildViewContainer},destroy:function(){return this.isDestroyed?this:(this.triggerMethod(\"before:destroy:collection\"),this.destroyChildren({checkEmpty:!1}),this.triggerMethod(\"destroy:collection\"),s.View.prototype.destroy.apply(this,arguments))},destroyChildren:function(t){var e=t||{},n=!0,r=this.children.map(i.identity);return i.isUndefined(e.checkEmpty)||(n=e.checkEmpty),this.children.each(this.removeChildView,this),n&&this.checkEmpty(),r},_shouldAddChild:function(t,e){var n=this.getOption(\"filter\");return!i.isFunction(n)||n.call(this,t,e,this.collection)},proxyChildEvents:function(t){var e=this.getOption(\"childViewEventPrefix\");this.listenTo(t,\"all\",function(){var n=i.toArray(arguments),r=n[0],s=this.normalizeMethods(i.result(this,\"childEvents\"));n[0]=e+\":\"+r,n.splice(1,0,t),void 0!==s&&i.isFunction(s[r])&&s[r].apply(this,n.slice(1)),this.triggerMethod.apply(this,n)})},_getImmediateChildren:function(){return i.values(this.children._views)},_getViewAndNested:function(t){return[t].concat(i.result(t,\"_getNestedViews\")||[])},getViewComparator:function(){return this.getOption(\"viewComparator\")}}),s.CompositeView=s.CollectionView.extend({constructor:function(){s.CollectionView.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,\"add\",this._onCollectionAdd),this.listenTo(this.collection,\"remove\",this._onCollectionRemove),this.listenTo(this.collection,\"reset\",this._renderChildren),this.getOption(\"sort\")&&this.listenTo(this.collection,\"sort\",this._sortViews))},getChildView:function(t){return this.getOption(\"childView\")||this.constructor},serializeData:function(){var t={};return this.model&&(t=i.partial(this.serializeModel,this.model).apply(this,arguments)),t},render:function(){return this._ensureViewIsIntact(),this._isRendering=!0,this.resetChildViewContainer(),this.triggerMethod(\"before:render\",this),this._renderTemplate(),this._renderChildren(),this._isRendering=!1,this.isRendered=!0,this.triggerMethod(\"render\",this),this},_renderChildren:function(){(this.isRendered||this._isRendering)&&s.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var t={};t=this.serializeData(),t=this.mixinTemplateHelpers(t),this.triggerMethod(\"before:render:template\");var e=this.getTemplate(),i=s.Renderer.render(e,t,this);this.attachElContent(i),this.bindUIElements(),this.triggerMethod(\"render:template\")},attachElContent:function(t){return this.$el.html(t),this},attachBuffer:function(t,e){this.getChildViewContainer(t).append(e)},_insertAfter:function(t){this.getChildViewContainer(this,t).append(t.el)},_appendReorderedChildren:function(t){this.getChildViewContainer(this).append(t)},getChildViewContainer:function(t,e){if(t.$childViewContainer)return t.$childViewContainer;var i,n=s.getOption(t,\"childViewContainer\");if(n){var r=s._getValue(n,t);if((i=\"@\"===r.charAt(0)&&t.ui?t.ui[r.substr(4)]:t.$(r)).length<=0)throw new s.Error({name:\"ChildViewContainerMissingError\",message:'The specified \"childViewContainer\" was not found: '+t.childViewContainer})}else i=t.$el;return t.$childViewContainer=i,i},resetChildViewContainer:function(){this.$childViewContainer&&(this.$childViewContainer=void 0)}}),s.LayoutView=s.ItemView.extend({regionClass:s.Region,options:{destroyImmediate:!1},childViewEventPrefix:\"childview\",constructor:function(t){t=t||{},this._firstRender=!0,this._initializeRegions(t),s.ItemView.call(this,t)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),s.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(!0===this.getOption(\"destroyImmediate\")&&this.$el.remove(),this.regionManager.destroy(),s.ItemView.prototype.destroy.apply(this,arguments))},showChildView:function(t,e,n){var r=this.getRegion(t);return r.show.apply(r,i.rest(arguments))},getChildView:function(t){return this.getRegion(t).currentView},addRegion:function(t,e){var i={};return i[t]=e,this._buildRegions(i)[t]},addRegions:function(t){return this.regions=i.extend({},this.regions,t),this._buildRegions(t)},removeRegion:function(t){return delete this.regions[t],this.regionManager.removeRegion(t)},getRegion:function(t){return this.regionManager.get(t)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(t){var e={regionClass:this.getOption(\"regionClass\"),parentEl:i.partial(i.result,this,\"el\")};return this.regionManager.addRegions(t,e)},_initializeRegions:function(t){var e;this._initRegionManager(),e=s._getValue(this.regions,this,[t])||{};var n=this.getOption.call(t,\"regions\");n=s._getValue(n,this,[t]),i.extend(e,n),e=this.normalizeUIValues(e,[\"selector\",\"el\"]),this.addRegions(e)},_reInitializeRegions:function(){this.regionManager.invoke(\"reset\")},getRegionManager:function(){return new s.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.regionManager._parent=this,this.listenTo(this.regionManager,\"before:add:region\",function(t){this.triggerMethod(\"before:add:region\",t)}),this.listenTo(this.regionManager,\"add:region\",function(t,e){this[t]=e,this.triggerMethod(\"add:region\",t,e)}),this.listenTo(this.regionManager,\"before:remove:region\",function(t){this.triggerMethod(\"before:remove:region\",t)}),this.listenTo(this.regionManager,\"remove:region\",function(t,e){delete this[t],this.triggerMethod(\"remove:region\",t,e)})},_getImmediateChildren:function(){return i.chain(this.regionManager.getRegions()).pluck(\"currentView\").compact().value()}}),s.Behavior=s.Object.extend({constructor:function(t,e){this.view=e,this.defaults=i.result(this,\"defaults\")||{},this.options=i.extend({},this.defaults,t),this.ui=i.extend({},i.result(e,\"ui\"),i.result(this,\"ui\")),s.Object.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this},proxyViewProperties:function(t){this.$el=t.$el,this.el=t.el}}),s.Behaviors=function(t,e){var i=/^(\\S+)\\s*(.*)$/;function n(t,i){return e.isObject(t.behaviors)?(i=n.parseBehaviors(t,i||e.result(t,\"behaviors\")),n.wrap(t,i,e.keys(r)),i):{}}var r={behaviorTriggers:function(t,e){return new s(this,e).buildBehaviorTriggers()},behaviorEvents:function(n,r){var s={};return e.each(r,function(n,r){var a={},h=e.clone(e.result(n,\"events\"))||{};h=t.normalizeUIKeys(h,o(n));var u=0;e.each(h,function(t,s){var o=s.match(i),h=o[1]+\".\"+[this.cid,r,u++,\" \"].join(\"\")+o[2],c=e.isFunction(t)?t:n[t];c&&(a[h]=e.bind(c,n))},this),s=e.extend(s,a)},this),s}};function s(t,e){this._view=t,this._behaviors=e,this._triggers={}}function o(t){return t._uiBindings||t.ui}return e.extend(n,{behaviorsLookup:function(){throw new t.Error({message:\"You must define where your behaviors are stored.\",url:\"marionette.behaviors.html#behaviorslookup\"})},getBehaviorClass:function(e,i){return e.behaviorClass?e.behaviorClass:t._getValue(n.behaviorsLookup,this,[e,i])[i]},parseBehaviors:function(t,i){return e.chain(i).map(function(i,r){var s=new(n.getBehaviorClass(i,r))(i,t),o=n.parseBehaviors(t,e.result(s,\"behaviors\"));return[s].concat(o)}).flatten().value()},wrap:function(t,i,n){e.each(n,function(n){t[n]=e.partial(r[n],t[n],i)})}}),e.extend(s.prototype,{buildBehaviorTriggers:function(){return e.each(this._behaviors,this._buildTriggerHandlersForBehavior,this),this._triggers},_buildTriggerHandlersForBehavior:function(i,n){var r=e.clone(e.result(i,\"triggers\"))||{};r=t.normalizeUIKeys(r,o(i)),e.each(r,e.bind(this._setHandlerForBehavior,this,i,n))},_setHandlerForBehavior:function(t,e,i,n){var r=n.replace(/^\\S+/,function(t){return t+\".behaviortriggers\"+e});this._triggers[r]=this._view._buildViewTrigger(i)}}),n}(s,i),s.AppRouter=e.Router.extend({constructor:function(t){this.options=t||{},e.Router.apply(this,arguments);var i=this.getOption(\"appRoutes\"),n=this._getController();this.processAppRoutes(n,i),this.on(\"route\",this._processOnRoute,this)},appRoute:function(t,e){var i=this._getController();this._addAppRoute(i,t,e)},_processOnRoute:function(t,e){if(i.isFunction(this.onRoute)){var n=i.invert(this.getOption(\"appRoutes\"))[t];this.onRoute(t,n,e)}},processAppRoutes:function(t,e){if(e){var n=i.keys(e).reverse();i.each(n,function(i){this._addAppRoute(t,i,e[i])},this)}},_getController:function(){return this.getOption(\"controller\")},_addAppRoute:function(t,e,n){var r=t[n];if(!r)throw new s.Error('Method \"'+n+'\" was not found on the controller');this.route(e,n,i.bind(r,t))},mergeOptions:s.mergeOptions,getOption:s.proxyGetOption,triggerMethod:s.triggerMethod,bindEntityEvents:s.proxyBindEntityEvents,unbindEntityEvents:s.proxyUnbindEntityEvents}),s.Application=s.Object.extend({constructor:function(t){this._initializeRegions(t),this._initCallbacks=new s.Callbacks,this.submodules={},i.extend(this,t),this._initChannel(),s.Object.apply(this,arguments)},execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(t){this._initCallbacks.add(t)},start:function(t){this.triggerMethod(\"before:start\",t),this._initCallbacks.run(t,this),this.triggerMethod(\"start\",t)},addRegions:function(t){return this._regionManager.addRegions(t)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(t){return this._regionManager.removeRegion(t)},getRegion:function(t){return this._regionManager.get(t)},getRegions:function(){return this._regionManager.getRegions()},module:function(t,e){var n=s.Module.getClass(e),r=i.toArray(arguments);return r.unshift(this),n.create.apply(n,r)},getRegionManager:function(){return new s.RegionManager},_initializeRegions:function(t){var e=i.isFunction(this.regions)?this.regions(t):this.regions||{};this._initRegionManager();var n=s.getOption(t,\"regions\");return i.isFunction(n)&&(n=n.call(this,t)),i.extend(e,n),this.addRegions(e),this},_initRegionManager:function(){this._regionManager=this.getRegionManager(),this._regionManager._parent=this,this.listenTo(this._regionManager,\"before:add:region\",function(){s._triggerMethod(this,\"before:add:region\",arguments)}),this.listenTo(this._regionManager,\"add:region\",function(t,e){this[t]=e,s._triggerMethod(this,\"add:region\",arguments)}),this.listenTo(this._regionManager,\"before:remove:region\",function(){s._triggerMethod(this,\"before:remove:region\",arguments)}),this.listenTo(this._regionManager,\"remove:region\",function(t){delete this[t],s._triggerMethod(this,\"remove:region\",arguments)})},_initChannel:function(){this.channelName=i.result(this,\"channelName\")||\"global\",this.channel=i.result(this,\"channel\")||e.Wreqr.radio.channel(this.channelName),this.vent=i.result(this,\"vent\")||this.channel.vent,this.commands=i.result(this,\"commands\")||this.channel.commands,this.reqres=i.result(this,\"reqres\")||this.channel.reqres}}),s.Module=function(t,e,n){this.moduleName=t,this.options=i.extend({},this.options,n),this.initialize=n.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=e,i.isFunction(this.initialize)&&this.initialize(t,e,this.options)},s.Module.extend=s.extend,i.extend(s.Module.prototype,e.Events,{startWithParent:!0,initialize:function(){},addInitializer:function(t){this._initializerCallbacks.add(t)},addFinalizer:function(t){this._finalizerCallbacks.add(t)},start:function(t){this._isInitialized||(i.each(this.submodules,function(e){e.startWithParent&&e.start(t)}),this.triggerMethod(\"before:start\",t),this._initializerCallbacks.run(t,this),this._isInitialized=!0,this.triggerMethod(\"start\",t))},stop:function(){this._isInitialized&&(this._isInitialized=!1,this.triggerMethod(\"before:stop\"),i.invoke(this.submodules,\"stop\"),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod(\"stop\"))},addDefinition:function(t,e){this._runModuleDefinition(t,e)},_runModuleDefinition:function(t,n){if(t){var r=i.flatten([this,this.app,e,s,e.$,i,n]);t.apply(this,r)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new s.Callbacks,this._finalizerCallbacks=new s.Callbacks},triggerMethod:s.triggerMethod}),i.extend(s.Module,{create:function(t,e,n){var r=t,s=i.drop(arguments,3),o=(e=e.split(\".\")).length,a=[];return a[o-1]=n,i.each(e,function(e,i){var o=r;r=this._getModule(o,e,t,n),this._addModuleDefinition(o,r,a[i],s)},this),r},_getModule:function(t,e,n,r,s){var o=i.extend({},r),a=this.getClass(r),h=t[e];return h||(h=new a(e,n,o),t[e]=h,t.submodules[e]=h),h},getClass:function(t){var e=s.Module;return t?t.prototype instanceof e?t:t.moduleClass||e:e},_addModuleDefinition:function(t,e,i,n){var r=this._getDefine(i),s=this._getStartWithParent(i,e);r&&e.addDefinition(r,n),this._addStartWithParent(t,e,s)},_getStartWithParent:function(t,e){var n;return i.isFunction(t)&&t.prototype instanceof s.Module?(n=e.constructor.prototype.startWithParent,!!i.isUndefined(n)||n):!i.isObject(t)||(n=t.startWithParent,!!i.isUndefined(n)||n)},_getDefine:function(t){return!i.isFunction(t)||t.prototype instanceof s.Module?i.isObject(t)?t.define:null:t},_addStartWithParent:function(t,e,i){e.startWithParent=e.startWithParent&&i,e.startWithParent&&!e.startWithParentIsConfigured&&(e.startWithParentIsConfigured=!0,t.addInitializer(function(t){e.startWithParent&&e.start(t)}))}}),s}(s,t,e)}.apply(e,n))||(t.exports=r)}(this)},function(t,e,i){var n,r;n=[i(0),i(1)],void 0===(r=function(t,e){return function(t,e){\"use strict\";var i=t.Wreqr,n=t.Wreqr={};return t.Wreqr.VERSION=\"1.4.0\",t.Wreqr.noConflict=function(){return t.Wreqr=i,this},n.Handlers=function(t,e){var i=function(t){this.options=t,this._wreqrHandlers={},e.isFunction(this.initialize)&&this.initialize(t)};return i.extend=t.Model.extend,e.extend(i.prototype,t.Events,{setHandlers:function(t){e.each(t,e.bind(function(t,i){var n=null;e.isObject(t)&&!e.isFunction(t)&&(n=t.context,t=t.callback),this.setHandler(i,t,n)},this))},setHandler:function(t,e,i){var n={callback:e,context:i};this._wreqrHandlers[t]=n,this.trigger(\"handler:add\",t,e,i)},hasHandler:function(t){return!!this._wreqrHandlers[t]},getHandler:function(t){var e=this._wreqrHandlers[t];if(e)return function(){return e.callback.apply(e.context,arguments)}},removeHandler:function(t){delete this._wreqrHandlers[t]},removeAllHandlers:function(){this._wreqrHandlers={}}}),i}(t,e),n.CommandStorage=function(){var i=function(t){this.options=t,this._commands={},e.isFunction(this.initialize)&&this.initialize(t)};return e.extend(i.prototype,t.Events,{getCommands:function(t){var e=this._commands[t];return e||(e={command:t,instances:[]},this._commands[t]=e),e},addCommand:function(t,e){this.getCommands(t).instances.push(e)},clearCommands:function(t){this.getCommands(t).instances=[]}}),i}(),n.Commands=function(t,e){return t.Handlers.extend({storageType:t.CommandStorage,constructor:function(e){this.options=e||{},this._initializeStorage(this.options),this.on(\"handler:add\",this._executeCommands,this),t.Handlers.prototype.constructor.apply(this,arguments)},execute:function(t){t=arguments[0];var i=e.rest(arguments);this.hasHandler(t)?this.getHandler(t).apply(this,i):this.storage.addCommand(t,i)},_executeCommands:function(t,i,n){var r=this.storage.getCommands(t);e.each(r.instances,function(t){i.apply(n,t)}),this.storage.clearCommands(t)},_initializeStorage:function(t){var i,n=t.storageType||this.storageType;i=e.isFunction(n)?new n:n,this.storage=i}})}(n,e),n.RequestResponse=function(t,e){return t.Handlers.extend({request:function(t){if(this.hasHandler(t))return this.getHandler(t).apply(this,e.rest(arguments))}})}(n,e),n.EventAggregator=function(t,e){var i=function(){};return i.extend=t.Model.extend,e.extend(i.prototype,t.Events),i}(t,e),n.Channel=function(i){var n=function(e){this.vent=new t.Wreqr.EventAggregator,this.reqres=new t.Wreqr.RequestResponse,this.commands=new t.Wreqr.Commands,this.channelName=e};return e.extend(n.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(t,e){return this._connect(\"vent\",t,e),this},connectCommands:function(t,e){return this._connect(\"commands\",t,e),this},connectRequests:function(t,e){return this._connect(\"reqres\",t,e),this},_connect:function(t,i,n){if(i){n=n||this;var r=\"vent\"===t?\"on\":\"setHandler\";e.each(i,e.bind(function(i,s){this[t][r](s,e.bind(i,n))},this))}}}),n}(),n.radio=function(t,e){var i=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};e.extend(i.prototype,{channel:function(t){if(!t)throw new Error(\"Channel must receive a name\");return this._getChannel(t)},_getChannel:function(e){var i=this._channels[e];return i||(i=new t.Channel(e),this._channels[e]=i),i},_proxyMethods:function(){e.each([\"vent\",\"commands\",\"reqres\"],e.bind(function(t){e.each(n[t],e.bind(function(e){this[t][e]=r(this,t,e)},this))},this))}});var n={vent:[\"on\",\"off\",\"trigger\",\"once\",\"stopListening\",\"listenTo\",\"listenToOnce\"],commands:[\"execute\",\"setHandler\",\"setHandlers\",\"removeHandler\",\"removeAllHandlers\"],reqres:[\"request\",\"setHandler\",\"setHandlers\",\"removeHandler\",\"removeAllHandlers\"]},r=function(t,i,n){return function(r){var s=t._getChannel(r)[i];return s[n].apply(s,e.rest(arguments))}};return new i}(n,e),t.Wreqr}(t,e)}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r;n=[i(0),i(1)],void 0===(r=function(t,e){return function(t,e){\"use strict\";var i=t.ChildViewContainer;return t.ChildViewContainer=function(t,e){var i=function(t){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),e.each(t,this.add,this)};return e.extend(i.prototype,{add:function(t,e){var i=t.cid;return this._views[i]=t,t.model&&(this._indexByModel[t.model.cid]=i),e&&(this._indexByCustom[e]=i),this._updateLength(),this},findByModel:function(t){return this.findByModelCid(t.cid)},findByModelCid:function(t){var e=this._indexByModel[t];return this.findByCid(e)},findByCustom:function(t){var e=this._indexByCustom[t];return this.findByCid(e)},findByIndex:function(t){return e.values(this._views)[t]},findByCid:function(t){return this._views[t]},remove:function(t){var i=t.cid;return t.model&&delete this._indexByModel[t.model.cid],e.any(this._indexByCustom,function(t,e){if(t===i)return delete this._indexByCustom[e],!0},this),delete this._views[i],this._updateLength(),this},call:function(t){this.apply(t,e.tail(arguments))},apply:function(t,i){e.each(this._views,function(n){e.isFunction(n[t])&&n[t].apply(n,i||[])})},_updateLength:function(){this.length=e.size(this._views)}}),e.each([\"forEach\",\"each\",\"map\",\"find\",\"detect\",\"filter\",\"select\",\"reject\",\"every\",\"all\",\"some\",\"any\",\"include\",\"contains\",\"invoke\",\"toArray\",\"first\",\"initial\",\"rest\",\"last\",\"without\",\"isEmpty\",\"pluck\",\"reduce\"],function(t){i.prototype[t]=function(){var i=[e.values(this._views)].concat(e.toArray(arguments));return e[t].apply(e,i)}}),i}(0,e),t.ChildViewContainer.VERSION=\"0.1.11\",t.ChildViewContainer.noConflict=function(){return t.ChildViewContainer=i,this},t.ChildViewContainer}(t,e)}.apply(e,n))||(t.exports=r)},function(t,e,i){var n=i(0).Model.extend({defaults:{assignee:\"\",text:\"\"},validate:function(t){var e={},i=!1;if(t.assignee||(e.assignee=\"assignee must be set\",i=!0),t.text||(e.text=\"text must be set\",i=!0),i)return e}});t.exports=n},function(module,exports,__webpack_require__){(function(_){module.exports=function(obj){var __t,__p=\"\",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,\"\")};with(obj||{})__p+=(null==(__t=text)?\"\":_.escape(__t))+\" &mdash; \"+(null==(__t=assignee)?\"\":_.escape(__t));return __p}}).call(this,__webpack_require__(1))},function(module,exports){module.exports=function(obj){var __t,__p=\"\",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,\"\")};with(obj||{})__p+='<ul></ul>\\n<form>\\n  <label for=\"id_text\">Todo Text</label>\\n  <input type=\"text\" name=\"text\" id=\"id_text\" />\\n  <label for=\"id_assignee\">Assign to</label>\\n  <input type=\"text\" name=\"assignee\" id=\"id_assignee\" />\\n\\n  <button id=\"btn-add\">Add Item</button>\\n</form>';return __p}}]);","extractedComments":[]}